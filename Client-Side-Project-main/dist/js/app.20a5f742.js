(function(e){function t(t){for(var n,r,c=t[0],i=t[1],u=t[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o={app:0},s=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-29b447a1":"29128ec8","chunk-2d0de000":"7b284ff7","chunk-38354691":"0652b046","chunk-3e4b1a75":"09ea5ecb","chunk-41017f10":"fd58b6cf","chunk-c1912ebc":"5ac6a122","chunk-c6ab8fec":"002b06a1","chunk-dd374c94":"fa59944d","chunk-fc85133c":"fc634e2a"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a={"chunk-29b447a1":1,"chunk-38354691":1,"chunk-3e4b1a75":1,"chunk-41017f10":1,"chunk-c1912ebc":1,"chunk-c6ab8fec":1,"chunk-dd374c94":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-29b447a1":"524cf47e","chunk-2d0de000":"31d6cfe0","chunk-38354691":"52d5dbd9","chunk-3e4b1a75":"3f1f04a5","chunk-41017f10":"1e2595b3","chunk-c1912ebc":"90875616","chunk-c6ab8fec":"8b885a76","chunk-dd374c94":"2ae21eca","chunk-fc85133c":"31d6cfe0"}[e]+".css",o=i.p+n,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===n||l===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete r[e],m.parentNode.removeChild(m),a(s)},m.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(m)})).then((function(){r[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}o[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;s.push(["56d7","chunk-vendors"]),a()})({"0175":function(e,t,a){"use strict";var n=a("90d2"),r=a.n(n);r.a},"14c8":function(e,t,a){"use strict";var n=a("3809"),r=a.n(n);r.a},1970:function(e,t,a){},3809:function(e,t,a){},"3e1e":function(e,t,a){"use strict";var n=a("f8b7"),r=a.n(n);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("4160"),a("45fc"),a("d3b7"),a("159b"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("b-navbar",{staticClass:"navbar navbar-dark bg-dark",attrs:{toggleable:"lg",type:"dark",variant:"info"}},[a("b-navbar-brand",{attrs:{to:{name:"main"}}},[e._v("Superliga Vue")]),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{to:{name:"search"}}},[e._v("Search")])],1),a("b-navbar-nav",[a("b-nav-item",{attrs:{to:{name:"weekly_matches"}}},[e._v("Weekly Matches")])],1),a("b-navbar-nav",[a("b-nav-item",{attrs:{to:{name:"about"}}},[e._v("About")])],1),e.$root.store.username?a("span",{staticClass:"ml-auto",staticStyle:{color:"rgb(179, 185, 190)"}},[e._v(" Hi "+e._s(e.$root.store.username)+" "),this.$root.store.isAdmin()?a("b-dropdown",{staticStyle:{color:"black"},attrs:{id:"dropdown-2",text:"League Management"}},[a("b-dropdown-item",[a("router-link",{attrs:{to:{name:"addNewMatch"}}},[e._v("Add new match")])],1),a("b-dropdown-item",[a("router-link",{attrs:{to:{name:"matchesPreview"}}},[e._v("Preview matches")])],1)],1):e._e(),a("span"),a("b-dropdown",{staticStyle:{color:"black"},attrs:{id:"dropdown-1",text:"Personal Zone"}},[a("b-dropdown-item",[a("router-link",{attrs:{to:{name:"favoriteMatches"}}},[e._v("My Matches")])],1),a("b-dropdown-item",{attrs:{disabled:""}},[e._v("My Players")]),a("b-dropdown-item",{attrs:{disabled:""}},[e._v("My Teams")]),a("b-dropdown-divider"),a("b-dropdown-item",[a("button",{on:{click:e.Logout}},[e._v("Logout")])])],1)],1):a("span",{staticClass:"ml-auto",staticStyle:{color:"rgb(179, 185, 190)"}},[e._v(" Hi Guest "),a("router-link",{staticClass:"routerlink",attrs:{to:{name:"register"}}},[e._v("Register")]),e._v("| "),a("router-link",{staticClass:"routerlink",attrs:{to:{name:"login"}}},[e._v("Login")]),e._v("| ")],1)],1)],1),a("router-view")],1)},o=[],s={name:"App",methods:{Logout:function(){var e=this;this.$root.store.logout(),this.$root.toast("Logout","User logged out successfully","success"),this.$router.push("/")["catch"]((function(){e.$forceUpdate()}))}}},c=s,i=(a("5c0b"),a("2877")),u=Object(i["a"])(c,r,o,!1,null,null,null),l=u.exports,d=a("a7fe"),m=a.n(d),h=a("bc3a"),f=a.n(h),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",{staticClass:"title",attrs:{align:"center"}},[e._v("Main Page")]),e.wait?a("span",[e._v(" please wait..")]):a("div",[a("div",{staticClass:"left-half"},[a("LeagueInfo")],1),a("div",{staticClass:"right-half"},[e.$root.store.username?a("div",[e.favoriteMatches.length>0?a("div",[a("FavoriteGames")],1):a("div",[a("h3",{staticClass:"title"},[e._v("There are no matches to load")])])]):a("div",{attrs:{to:"/login"}},[a("LoginPage")],1)])])])},v=[],b=(a("96cf"),a("1da1")),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"league-preview"},[a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{"img-alt":"Image",tag:"article"}},[a("b-card-title",{attrs:{align:"center"}},[e._v(e._s(e.leagueName))]),a("b-card-text",[a("ul",{staticClass:"game-content"},[a("li",[e._v(" Season: "+e._s(e.season)+" ")]),a("li",[e._v(" Stage: "+e._s(e.stage)+" ")])]),a("GamePreview",{key:e.next_match.match_id,attrs:{match_id:parseInt(e.next_match.match_id),hostTeam:e.next_match.hostTeam,awayTeam:e.next_match.awayTeam,date_match_new:e.next_match.date_match_new,hour:e.next_match.hour,venue:e.next_match.venue_name}})],1)],1)],1)},_=[],w=a("71ba"),k={name:"LeagueInfo",components:{GamePreview:w["a"]},data:function(){return{leagueName:"",season:"",stage:"",next_match:[]}},created:function(){this.getDetails()},methods:{getDetails:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("http://localhost:3000/league/getDetails");case 3:a=t.sent,e.leagueName=a.data.league_name,e.season=a.data.current_season_name,e.stage=a.data.current_stage_name,e.next_match=a.data.next_match,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},y=k,x=(a("e280"),Object(i["a"])(y,g,_,!1,null,null,null)),$=x.exports,S=a("8c69"),T=a("62cc"),P={components:{LeagueInfo:$,LoginPage:T["default"],FavoriteGames:S["a"]},data:function(){return{wait:!0,favoriteMatches:[]}},methods:{retrieveFavoriteMatchesTop3:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("http://localhost:3000/users/favoriteMatchesTop3");case 2:a=t.sent,200==a.status?e.favoriteMatches=a.data:e.favoriteMatches=[],e.wait=!1;case 5:case"end":return t.stop()}}),t)})))()}},created:function(){this.retrieveFavoriteMatchesTop3()}},E=P,C=(a("aa92"),Object(i["a"])(E,p,v,!1,null,"4a7518e5",null)),M=C.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",[e._v("Four Oh Four you didn't")]),a("router-link",{attrs:{to:"/",exact:""}},[e._v("ET Go Home")])],1)},L=[],O={},A=Object(i["a"])(O,j,L,!1,null,null,null),N=A.exports,R=[{path:"/",name:"main",component:M},{path:"/register",name:"register",component:function(){return a.e("chunk-41017f10").then(a.bind(null,"eaff"))}},{path:"/login",name:"login",component:function(){return Promise.resolve().then(a.bind(null,"62cc"))}},{path:"/user/favoriteMatches",name:"favoriteMatches",component:function(){return a.e("chunk-2d0de000").then(a.bind(null,"847e"))}},{path:"/about",name:"about",component:function(){return a.e("chunk-38354691").then(a.bind(null,"478b"))}},{path:"/search",name:"search",component:function(){return a.e("chunk-3e4b1a75").then(a.bind(null,"37906"))}},{path:"/weekly_matches",name:"weekly_matches",component:function(){return a.e("chunk-29b447a1").then(a.bind(null,"eece"))}},{path:"/player_page/:id",name:"player_page_by_id",component:function(){return a.e("chunk-fc85133c").then(a.bind(null,"c0ec"))}},{path:"/player_page",name:"player_page",component:function(){return a.e("chunk-fc85133c").then(a.bind(null,"c0ec"))}},{path:"/team_page/:id",name:"team_page_by_id",component:function(){return a.e("chunk-c1912ebc").then(a.bind(null,"87bb"))}},{path:"/team_page",name:"team_page",component:function(){return a.e("chunk-c1912ebc").then(a.bind(null,"87bb"))}},{path:"/add_match",name:"addNewMatch",component:function(){return a.e("chunk-dd374c94").then(a.bind(null,"dc0c"))}},{path:"/matches_preview",name:"matchesPreview",component:function(){return a.e("chunk-c6ab8fec").then(a.bind(null,"cfb0"))}},{path:"*",name:"notFound",component:N}],q=R,G=a("8c4f"),U=a("2b27"),F=a.n(U),I=a("5f5b"),D=a("b1e0"),B=a("9e21"),H=a.n(B),Q=a("1dce"),J=a.n(Q),K=(a("f9e3"),a("2dd8"),a("d7b1")),V=a("1f1a"),W=a("1073"),Z=a("cbd0"),z=a("b1fc"),X=a("7049"),Y=a("a7e2"),ee=a("f9bc"),te=a("44d4"),ae=a("cca8"),ne=a("51c2"),re=a("498a"),oe=a("d047"),se=a("9ae9");n["default"].use(H.a,{configuration:{cloudName:"dbur1pbkj"}}),n["default"].use(I["a"]),n["default"].use(D["a"]),n["default"].use(F.a),n["default"].use(G["a"]);var ce=new G["a"]({routes:q});[K["a"],V["a"],W["a"],Z["a"],z["a"],X["a"],Y["a"],ee["a"],te["a"],ae["a"],ne["a"],re["a"],oe["a"],se["a"]].forEach((function(e){return n["default"].use(e)})),n["default"].use(J.a),f.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),f.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),f.a.defaults.withCredentials=!0,n["default"].use(m.a,f.a),n["default"].config.productionTip=!1;var ie={username:"",lastQueryTeam:"",lastQueryTerm:"",sortTeams:!1,BASE_URL:"http://localhost:3000",login:function(e){localStorage.setItem("username",e),this.username=e,this.lastQueryTeam="",this.lastQueryTerm="",this.sortTeams=!1,console.log("login",this.username)},isAdmin:function(){return"niv123"===this.username&&(console.log("admin logged in"),!0)},logout:function(){console.log("logout"),n["default"].$cookies.remove("session"),localStorage.removeItem("username"),localStorage.clear(),this.username=void 0}};console.log(ie),ce.beforeEach((function(e,t,a){void 0!==ie.username&&n["default"].$cookies.get("session")?a():((void 0===ie.username&&n["default"].$cookies.get("session")||void 0!==ie.username&&!n["default"].$cookies.get("session"))&&ie.logout(),e.matched.some((function(e){return e.meta.requiresAuth}))?a({name:"login"}):a())})),new n["default"]({router:ce,data:function(){return{store:ie}},methods:{toast:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.$bvToast.toast("".concat(t),{title:"".concat(e),toaster:"b-toaster-top-center",variant:a,solid:!0,appendToast:n,autoHideDelay:3e3})}},render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"62cc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",{staticClass:"title"},[e._v("Login")]),a("b-form",{on:{submit:function(t){return t.preventDefault(),e.onLogin(t)}}},[a("b-form-group",{attrs:{id:"input-group-Username","label-cols-sm":"3",label:"Username:","label-for":"Username"}},[a("b-form-input",{attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}}),a("b-form-invalid-feedback",[e._v(" Username is required ")])],1),a("b-form-group",{attrs:{id:"input-group-Password","label-cols-sm":"3",label:"Password:","label-for":"Password"}},[a("b-form-input",{attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}}),a("b-form-invalid-feedback",[e._v(" Password is required ")])],1),a("div",{attrs:{align:"center"}},[a("b-button",{staticClass:"navbar navbar-dark bg-dark",staticStyle:{width:"100px",display:"block"},attrs:{type:"submit",variant:"primary"}},[e._v("Login")])],1)],1),e.form.submitError?a("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},r=[],o=(a("96cf"),a("1da1")),s=a("b5ae"),c={name:"Login",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:s["required"]},password:{required:s["required"]}}},methods:{validateState:function(e){var t=this.$v.form[e],a=t.$dirty,n=t.$error;return a?!n:null},Login:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post("http://localhost:3000/login",{username:e.form.username,password:e.form.password});case 3:t.sent,e.$root.store.login(e.form.username),"/"!=e.$route.path&&e.$router.push("/")["catch"](),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}}},i=c,u=(a("3e1e"),a("2877")),l=Object(u["a"])(i,n,r,!1,null,"7d20d7c9",null);t["default"]=l.exports},"71ba":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"game-preview"},[a("ul",{staticClass:"game-content"},[a("li",[e._v(" host: "+e._s(e.hostTeam))]),a("li",[e._v(" guest: "+e._s(e.awayTeam))]),a("li",[e._v(" date: "+e._s(e.date_match_new))]),a("li",[e._v(" time: "+e._s(e.hour))]),a("li",[e._v(" venue: "+e._s(e.venue))])])])},r=[],o=(a("a9e3"),{name:"GamePreview",props:{match_id:{type:Number},hostTeam:{type:String},awayTeam:{type:String},date_match_new:{type:String},hour:{type:String},venue:{type:String}},mounted:function(){console.log("game preview mounted")}}),s=o,c=(a("14c8"),a("2877")),i=Object(c["a"])(s,n,r,!1,null,null,null);t["a"]=i.exports},"8c69":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{align:"left"}},[a("b-card",{staticStyle:{background:"transparent",border:"0"},attrs:{align:"left"}},[a("b-card-text",{staticStyle:{color:"black"}},[a("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #555"},attrs:{id:"carousel-1",interval:1e4,controls:"",indicators:"",background:"transparent","img-width":"30%","img-height":"20%"},on:{"sliding-start":e.onSlideStart,"sliding-end":e.onSlideEnd}},e._l(e.matches,(function(e,t){return a("b-carousel-slide",{key:t,attrs:{"img-blank":""}},[[a("GamePreview",{key:e.match_id,attrs:{match_id:e.match_id,hostTeam:e.local_team,awayTeam:e.visitor_team,date_match_new:e.date_game,hour:e.hour,venue:e.venue}})]],2)})),1)],1)],1)],1)},r=[],o=a("2909"),s=(a("96cf"),a("1da1")),c=a("71ba"),i={name:"FavoriteGames",components:{GamePreview:c["a"]},data:function(){return{matches:[],sliding:null}},created:function(){console.log("favorite updateMatches mounted"),this.updateMatches()},methods:{onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1},updateMatches:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("response"),t.prev=1,t.next=4,e.axios.get(e.$root.store.BASE_URL+"/users/favoriteMatchesTop3");case 4:n=t.sent,r=n.data,r.length,(a=e.matches).push.apply(a,Object(o["a"])(r)),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log("error in update updateMatches"),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()}}},u=i,l=(a("0175"),a("2877")),d=Object(l["a"])(u,n,r,!1,null,null,null);t["a"]=d.exports},"90d2":function(e,t,a){},9965:function(e,t,a){},"9c0c":function(e,t,a){},aa92:function(e,t,a){"use strict";var n=a("9965"),r=a.n(n);r.a},e280:function(e,t,a){"use strict";var n=a("1970"),r=a.n(n);r.a},f8b7:function(e,t,a){}});
//# sourceMappingURL=app.20a5f742.js.map